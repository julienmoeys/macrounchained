<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Batch run MACRO simulations with different substance properties and application patterns — macrounchained • macrounchained</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Batch run MACRO simulations with different substance properties and application patterns — macrounchained" />

<meta property="og:description" content="Batch run MACRO simulations with different substance 
 properties and application patterns, starting from a 
 template imported MACRO par-file, including metabolites." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">macrounchained</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/macrounchainedfocusgw-manual.html">Running MACROInFOCUS-like groundwater simulations with macrounchainedFocusGW</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/julienmoeys/macrounchained">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Batch run MACRO simulations with different substance properties and application patterns</h1>
    <small class="dont-index">Source: <a href='https://github.com/julienmoeys/macrounchained/blob/master/R/macrounchained.r'><code>R/macrounchained.r</code></a></small>
    <div class="hidden name"><code>macrounchained-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Batch run MACRO simulations with different substance 
 properties and application patterns, starting from a 
 template imported MACRO par-file, including metabolites.</p>
    
    </div>

    <pre class="usage"><span class='fu'>macrounchained</span>(<span class='no'>s</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>macrounchained</span>(<span class='no'>s</span>, <span class='no'>parfile</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
  <span class='kw'>indump</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>run</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>analyse</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>analyse_args</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>analyse_summary</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dt50_depth_f</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>keep0conc</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>focus_mode</span> <span class='kw'>=</span> <span class='st'>"no"</span>, <span class='kw'>anonymise</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>archive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>s</th>
      <td><p>A <code><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></code> containing different sets 
of substance properties and application patterns to be 
simulated. Each row is a substance. The order of the 
column has no importance, but the order of the row 
will steer the simulation order. Substances deriving 
from the same applied substance will nonetheless be 
simulated together. The following columns 
must or can be provided</p><ul>
<li><p>"soil"(optional) Name of the FOCUS-scenario (soil/ site) 
        to be used for the parameter set. Can only be 
        used when the argument <code>focus_mode</code> is set 
        to <code>"gw"</code>. When the column <code>"soil"</code> is 
        provided, the column 
        <code>"crop"</code> should be provided too (see below), 
        but the argument <code>parfile</code> should not be 
        used, and neither the optional column 
        <code>"parfile"</code>, as the template 
        par-file is determined internally. 
        <code><a href='https://www.rdocumentation.org/packages/base/topics/pmatch'>Partial matching</a></code> and 
        <code><a href='https://www.rdocumentation.org/packages/base/topics/iconv'>transliteration</a></code> are 
        used, and casing is ignored, and so that input 
        like <code>"Ch\^{a}teaudun"</code>, <code>"chateaudun"</code> or
        <code>"chat"</code> will all refer to the same 
        <code>"Ch\^{a}teaudun"</code> FOCUS-scenario. An 
        <code><a href='https://www.rdocumentation.org/packages/base/topics/stop'>error</a></code> will be raised in 
        case of multiple matches or no match.</p></li>
<li><p>"crop"(optional) Name of the FOCUS-crop 
        to be used for the parameter set. Can only be 
        used when the argument <code>focus_mode</code> is set 
        to <code>"gw"</code>. When the column <code>"crop"</code> is 
        provided, the column 
        <code>"soil"</code> should be provided too (see above). 
        <code><a href='https://www.rdocumentation.org/packages/base/topics/pmatch'>Partial matching</a></code> and 
        <code><a href='https://www.rdocumentation.org/packages/base/topics/iconv'>transliteration</a></code> are 
        used, and casing is ignored. Important qualifiers 
        such as <code>"winter"</code> and <code>"spring"</code> (for 
        cereals and oil seed rape), or <code>"bulb"</code>, 
        <code>"fruiting"</code>, <code>"leafy"</code> and <code>"root"</code> 
        (for vegetables), should be separated from the 
        crop name by a comma (as in MACRO In FOCUS user 
        interface), but the can come either before or 
        after the crop name. Spaces are otherwise ignored. 
        Input like <code>"Cereals, Winter"</code>, 
        <code>"cereals, winter"</code>, <code>"cer, win"</code> or 
        even <code>"win, cer"</code> will all refer to the same 
        Winter cereals FOCUS-crop. <code>"Sugar beets"</code> 
        is equivalent to <code>"sugarbeets"</code>.
        An <code><a href='https://www.rdocumentation.org/packages/base/topics/stop'>error</a></code> will be raised in 
        case of multiple matches or no match.</p></li>
<li><p>"id"Integer-value, between 1 and 998. Unique 
        identifier of the substance. Will also be used as 
        a Run ID.</p></li>
<li><p>"name"Character-string. Name of the substance. 
        Names don't need to be unique, but it may be a 
        good idea if they are.</p></li>
<li><p>"kfoc"Numeric-value. [L/kg]. Freundlich 
        adsorption coefficient of the substance.</p></li>
<li><p>"nf"Numeric-value. [-]. Freundlich exponent 
        of the substance.</p></li>
<li><p>"dt50"Numeric-value. [days]. Half-life of 
        the substance in soil.</p></li>
<li><p>"dt50_ref_temp"Numeric-value. [Degrees Celsius]. 
        Reference temperature at which the half-life was 
        measured.</p></li>
<li><p>"dt50_pf"Integer-value. [log10(cm)]. pF at 
        which the DT50 was measured.</p></li>
<li><p>"exp_temp_resp"Numeric-value. [-]. Exponent 
        of the temperature response (effect of temperature 
        on degradation).</p></li>
<li><p>"exp_moist_resp"Numeric-value. [-]. Exponent 
        of the moisture response (effect of soil water 
        content on degradation).</p></li>
<li><p>"crop_upt_f"Numeric-value.  [-]. Crop uptake 
        factor. Between 0 (no root uptake of the substance) 
        and 1 (passive uptake of the substance with root 
        water uptake).</p></li>
<li><p>"diff_coef"Numeric-value. [m2/s]. Substance 
        diffusion coefficient (in water).</p></li>
<li><p>"parent_id"Integer-value. Only for metabolites. 
        Leave empty (<code>NA_integer_</code>) for substances 
        that are not the degradation product of another 
        substance. <code>id</code> of the parent substance, i.e. 
        the substance that degrades into the metabolite 
        described in this row. For secondary metabolites 
        (and further), the "parent" will also be a 
        metabolite.</p></li>
<li><p>"g_per_mol"Numeric-value. [g/mol]. Molar mass 
        of the substance. Only needed when the substance 
        is degrading into a degradation product or is 
        the degradation product of another substance. 
         Leave empty (<code>NA_integer_</code>) otherwise.</p></li>
<li><p>"g_as_per_ha"Numeric-value or, in case of 
        multiple applications, character string. [g/ha]. 
        Application 
        rate (in g substance per hectare) of the substance. 
        Set to 0 g/ha if the substance is a degradation 
        product. In case of several applications per year, 
        give the values separated with a vertical bar 
        (see https://en.wikipedia.org/wiki/Vertical_bar). 
        Do quote the values. For example, for two 
        applications of 1000g/ha and 90g/ha, respectively, 
        type <code>"1000|900"</code>.</p></li>
<li><p>"app_j_day"Integer-value or, in case of 
        multiple applications, character string. Between 
        1 and 365. 
        [Julian day]. Application date of the substance. 
        Use the application date of the applied substance 
        (the top parent) if the substance is a 
        degradation product. In case of several 
        applications per year, give the values separated 
        with a vertical bar (see https://en.wikipedia.org/wiki/Vertical_bar). 
        Do quote the values. For example, for two 
        applications on Julian days 298 and 305, 
        respectively, type <code>"298|305"</code></p></li>
<li><p>"f_int"Numeric-value. [-]. Fraction of the 
        applied product that is intercepted by the crop 
        canopy.</p></li>
</ul><p>The columns <code>"parent_id"</code> and <code>"g_per_mol"</code> can 
be entirely skipped (missing), and should at least be 
only <code>NA</code> when no metabolite is to be simulated.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Additional parameters passed to specific methods. 
Currently not used.</p></td>
    </tr>
    <tr>
      <th>parfile</th>
      <td><p>A <code>macroParFile</code>, as imported with 
<code>rmacroliteImportParFile-methods</code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Single integer value. If set to a value <code>&lt; 1</code>, 
the program is silent (except on errors or warnings). If 
set to <code>1</code>, the program outputs messages. Values 
<code>&gt; 1</code> may also activate messages from lower level 
functions (for debugging purpose).</p></td>
    </tr>
    <tr>
      <th>indump</th>
      <td><p>Single logical value. If <code>TRUE</code> (the default), 
the so called <code>indump.tmp</code> parameter file is produced. 
Must be <code>TRUE</code> when <code>run</code> is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>run</th>
      <td><p>Single logical value. If <code>TRUE</code> (the default), 
the parametrised simulations are run.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Single logical value. If <code>FALSE</code> (the default), 
the function will check that the files to be created 
do not exist yet, and will <code><a href='https://www.rdocumentation.org/packages/base/topics/stop'>stop</a></code> if 
some of the files already exist. Set to <code>TRUE</code> to 
silently overwrite existing files.</p></td>
    </tr>
    <tr>
      <th>analyse</th>
      <td><p>Single R <code><a href='https://www.rdocumentation.org/packages/base/topics/function'>function</a></code>. Function to be 
used by <code>macrounchained</code> to analyse the results of 
MACRO simulations. An example of such function is 
<code>macroutilsFocusGWConc</code>.
Notice that the appropriate function depends on what 
output needs to be analysed and what parameters are 
exported from MACRO, as defined in <code>parfile</code>, so 
there is no generic all purpose function to be used here.
When <code>analyse</code> is <code>NULL</code> (the default), MACRO 
output is not analysed.</p></td>
    </tr>
    <tr>
      <th>analyse_args</th>
      <td><p>A <code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></code> containing named-items to 
be passed as arguments to <code>analyse</code>. An example 
of use is <code>analyse_args =</code> <code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list( "quiet" = TRUE )</a></code>.</p></td>
    </tr>
    <tr>
      <th>analyse_summary</th>
      <td><p>Single R <code><a href='https://www.rdocumentation.org/packages/base/topics/function'>function</a></code>. Function to be 
used by <code>macrounchained</code> to summarise all the results 
of MACRO simulations, as output by <code>analyse</code>.
An example of such function is 
<code>macroutilsFocusGWConc_summary</code>.
Notice that the appropriate function depends on what 
output needs to be summarised and what output <code>analyse</code> 
is returning, so there is no generic all purpose function 
to be used here.</p></td>
    </tr>
    <tr>
      <th>dt50_depth_f</th>
      <td><p>See <code>rmacroliteDegradation</code>.</p></td>
    </tr>
    <tr>
      <th>keep0conc</th>
      <td><p>See <code>rmacroliteApplications</code>.</p></td>
    </tr>
    <tr>
      <th>focus_mode</th>
      <td><p>See <code>rmacroliteApplications</code>.</p></td>
    </tr>
    <tr>
      <th>anonymise</th>
      <td><p>Single boolean value. If <code>TRUE</code>, the function 
tries to replace USERNAME, HOMEPATH and USERPROFILE 
(i.e Windows environment variables) in paths displayed 
in messages by their environment variables, in order 
to preserve the user anonymity in the logs produced.</p></td>
    </tr>
    <tr>
      <th>archive</th>
      <td><p>Single boolean value. If <code>TRUE</code>, all the files 
generated are archived in a <code>.tar.gz</code>-file when 
all other operations are finished. Default to 
<code>FALSE</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>TO BE WRITTEN.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Julien Moeys.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

